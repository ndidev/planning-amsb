<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <title>Planning consignation - Ajout/Modification escale</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" />
    <script src="../lib/auth-guard.js" type="module"></script>
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./escale.css" />
    <script src="../lib/commun.js" type="module"></script>
    <script src="./escale.js" type="module"></script>
  </head>

  <body>
    <include src="../menu/menu.html">
      { "nouveau": { "rubrique": "consignation", "title": "Nouvelle escale",
      "href": "./escale.html" } }
    </include>

    <main class="formulaire">
      <h1>Escale</h1>

      <form class="pure-form pure-form-aligned">
        <!-- Navire -->
        <div class="pure-control-group">
          <label for="navire">Navire</label>
          <input
            id="navire"
            value="TBN"
            placeholder="Nom du navire"
            maxlength="255"
            class="navire-armateur"
            data-nom="Navire"
            autocapitalize="characters"
          />
        </div>

        <!-- N° voyage -->
        <div class="pure-control-group">
          <label for="voyage">N° voyage</label>
          <input
            id="voyage"
            placeholder="N° voyage"
            maxlength="20"
            class="navire-armateur"
            data-nom="Voyage"
            pattern="20\d{2}\/\d{1,}"
          />
        </div>

        <!-- Armateur -->
        <div class="pure-control-group">
          <label for="armateur">Armateur</label>
          <input
            id="armateur_user"
            placeholder="Nom de l'armateur"
            maxlength="255"
            class="navire-armateur"
            data-nom="Armateur"
          />
          <input hidden id="armateur_value" />
        </div>

        <!-- ETA -->
        <div class="pure-control-group">
          <label for="eta_date"
            ><abbr title="Estimated Time of Arrival">ETA</abbr></label
          >
          <input
            type="date"
            id="eta_date"
            placeholder="Date ETA"
            class="etx date"
            data-nom="Date ETA"
          />
          <input
            id="eta_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure ETA"
          />
        </div>

        <!-- NOR -->
        <div class="pure-control-group">
          <label for="nor_date"
            ><abbr title="Notice Of Readiness">NOR</abbr></label
          >
          <input
            type="date"
            id="nor_date"
            placeholder="Date NOR"
            class="etx date"
            data-nom="Date NOR"
          />
          <input
            id="nor_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure NOR"
          />
        </div>

        <!-- POB -->
        <div class="pure-control-group">
          <label for="pob_date"><abbr title="Pilot On Board">POB</abbr></label>
          <input
            type="date"
            id="pob_date"
            placeholder="Date POB"
            class="etx date"
            data-nom="Date POB"
          />
          <input
            id="pob_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure POB"
          />
        </div>

        <!-- ETB -->
        <div class="pure-control-group">
          <label for="etb_date"
            ><abbr title="Estimated Time of Berthing">ETB</abbr></label
          >
          <input
            type="date"
            id="etb_date"
            placeholder="Date ETB"
            class="etx date"
            data-nom="Date ETB"
          />
          <input
            id="etb_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure ETB"
          />
        </div>

        <!-- Opérations -->
        <div class="pure-control-group">
          <label for="ops_date">Début ops</label>
          <input
            type="date"
            id="ops_date"
            placeholder="Date ops"
            class="etx date"
            data-nom="Date début ops"
          />
          <input
            id="ops_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure début ops"
          />
        </div>

        <!-- ETC -->
        <div class="pure-control-group">
          <label for="etc_date"
            ><abbr title="Estimated Time of Completion">ETC</abbr></label
          >
          <input
            type="date"
            id="etc_date"
            placeholder="Date ETC"
            class="etx date"
            data-nom="Date ETC"
          />
          <input
            id="etc_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure ETC"
          />
        </div>

        <!-- ETD -->
        <div class="pure-control-group">
          <label for="etd_date"
            ><abbr title="Estimated Time of Departure">ETD</abbr></label
          >
          <input
            type="date"
            id="etd_date"
            placeholder="Date ETD"
            class="etx date"
            data-nom="Date ETD"
          />
          <input
            id="etd_heure"
            maxlength="10"
            placeholder="Heure"
            class="etx heure"
            data-nom="Heure ETD"
          />
        </div>

        <!-- TE arrivée -->
        <div class="pure-control-group">
          <label for="te_arrivee">TE arrivée</label>
          <input
            id="te_arrivee"
            placeholder="TE arrivée"
            class="te"
            data-decimal="+2"
            data-nom="TE arrivée"
          />
        </div>

        <!-- TE départ -->
        <div class="pure-control-group">
          <label for="te_depart">TE départ</label>
          <input
            id="te_depart"
            placeholder="TE départ"
            class="te"
            data-decimal="+2"
            data-nom="TE départ"
          />
        </div>

        <!-- Port et quai d'escale -->
        <div class="pure-control-group port-quai-escale">
          <label for="call_port">Port d'escale</label>
          <input
            list="call_port_list"
            id="call_port"
            value="Le Légué"
            placeholder="Port d'escale"
            data-nom="Port d'escale"
          />
          <input
            list="quai_list"
            id="quai"
            placeholder="Quai d'escale"
            data-nom="Quai d'escale"
          />
        </div>

        <!-- Port de provenance -->
        <div class="pure-control-group last-port">
          <label for="last_port">Port de provenance</label>
          <input id="last_port_user" placeholder="Port de provenance" />
          <input hidden id="last_port_value" data-nom="Port de provenance" />
        </div>

        <!-- Port de destination -->
        <div class="pure-control-group next-port">
          <label for="next_port">Port de destination</label>
          <input id="next_port_user" placeholder="Port de destination" />
          <input hidden id="next_port_value" data-nom="Port de destination" />
        </div>

        <!-- Commentaire -->
        <div class="pure-control-group">
          <label for="commentaire">Commentaire</label>
          <textarea
            class="escale_commentaire"
            id="commentaire"
            rows="3"
            cols="30"
            data-nom="Commentaire"
          ></textarea>
        </div>

        <!-- Marchandises -->
        <h2>Marchandises</h2>
        <div id="ajouter-marchandise">
          Ajouter une marchandise
          <i class="material-icons" title="Ajouter une marchandise">add</i>
        </div>
        <div>
          <ul id="marchandises"></ul>
        </div>

        <!-- Validation/Annulation/Suppression -->
        <div id="boutonsAMS">
          <div class="boutons">
            <!-- Bouton "Ajouter" si nouveau -->
            <button class="pure-button bouton bouton-ajouter">Ajouter</button>
            <!-- Bouton "Modifier" si modidification -->
            <button class="pure-button bouton bouton-modifier">Modifier</button>
            <!-- Bouton "Supprimer" si suppression -->
            <button class="pure-button bouton bouton-supprimer">
              Supprimer
            </button>
            <!-- Bouton "Annuler" -->
            <button class="pure-button bouton bouton-annuler">Annuler</button>
          </div>
        </div>
      </form>
    </main>

    <template id="ligne-marchandise">
      <li class="ligne-marchandise pure-g">
        <input hidden class="id" />
        <div class="bloc pure-u-1 pure-u-lg-1-4">
          <div class="pure-control-group">
            <label
              >Marchandise*
              <input
                list="marchandises_list"
                class="nom marchandise"
                maxlength="255"
                data-nom="Marchandise"
                required
              />
            </label>
          </div>
          <div class="pure-control-group">
            <label
              >Client*
              <input
                list="clients_list"
                maxlength="255"
                class="nom client"
                data-nom="Client"
                required
              />
            </label>
          </div>
          <div class="pure-control-group">
            <label>Operation*</label>
            <select class="operation">
              <option value="Import">Import</option>
              <option value="Export">Export</option>
            </select>
          </div>
        </div>
        <div class="quantite bloc pure-u-1 pure-u-lg-1-4">
          <div class="quantite type pure-u-1">
            <label class="pure-checkbox"
              >BL (environ
              <input type="checkbox" class="environ checkbox-environ" />)
            </label>
          </div>
          <div class="pure-control-group">
            <label
              >Tonnage
              <input
                class="tonnage_bl quantite tonnage-cubage"
                data-decimal="+3"
              />
            </label>
          </div>
          <div class="pure-control-group">
            <label
              >Cubage
              <input
                class="cubage_bl quantite tonnage-cubage"
                data-decimal="+3"
              />
            </label>
          </div>
          <div class="pure-control-group">
            <label
              >Colis
              <input class="nombre_bl quantite" data-decimal="+0" />
            </label>
          </div>
        </div>
        <div class="quantite bloc pure-u-1 pure-u-lg-1-4">
          <div class="quantite type">Outturn</div>
          <div class="pure-control-group">
            <label
              >Tonnage
              <input
                class="tonnage_outturn quantite tonnage-cubage"
                data-decimal="+3"
              />
            </label>
          </div>
          <div class="pure-control-group">
            <label
              >Cubage
              <input
                class="cubage_outturn quantite tonnage-cubage"
                data-decimal="+3"
              />
            </label>
          </div>
          <div class="pure-control-group">
            <label
              >Colis
              <input class="nombre_outturn quantite" data-decimal="+0" />
            </label>
          </div>
        </div>
        <div class="poubelle">
          <a title="Supprimer la marchandise"
            ><i class="material-icons">delete</i></a
          >
        </div>
      </li>
    </template>

    <datalist id="call_port_list">
      <option value="Le Légué"></option>
      <option value="Tréguier"></option>
    </datalist>

    <datalist id="quai_list">
      <option value="Bassin"></option>
      <option value="Bassin 2"></option>
      <option value="Bassin 4/5"></option>
      <option value="Cesson"></option>
      <option value="Cesson 1"></option>
      <option value="Cesson 2"></option>
      <option value="Quai Garnier"></option>
      <option value="Quai Guindy"></option>
    </datalist>

    <datalist id="marchandises_list">
      <option value="Ammonitrate"></option>
      <option value="Bois"></option>
      <option value="Bois (léger)"></option>
      <option value="Bois (mixte)"></option>
      <option value="Bois (lourd)"></option>
      <option value="Bois (LVL)"></option>
      <option value="Blé bio"></option>
      <option value="Chlorure de potasse"></option>
      <option value="Citrus"></option>
      <option value="CSR (balles)"></option>
      <option value="DAP"></option>
      <option value="Drêches de maïs"></option>
      <option value="Engrais vrac"></option>
      <option value="Entec"></option>
      <option value="Maerl"></option>
      <option value="Magnésie"></option>
      <option value="Magnésie K"></option>
      <option value="Magnésie KS"></option>
      <option value="Magnésie P"></option>
      <option value="MCP BB"></option>
      <option value="MCP vrac"></option>
      <option value="MCP vrac mini"></option>
      <option value="MCP vrac semoule"></option>
      <option value="Poids bio"></option>
      <option value="Sel"></option>
      <option value="Sel (fin)"></option>
      <option value="Sel (gros)"></option>
      <option value="Sulfate de potasse"></option>
      <option value="Tourteaux de colza"></option>
      <option value="Tourteaux de tournesol"></option>
      <option value="Triticale de blé bio"></option>
      <option value="Urée"></option>
      <option value="Woodchips"></option>
    </datalist>

    <datalist id="clients_list">
      <option value="Altilis"></option>
      <option value="Ar Cour"></option>
      <option value="Ballay"></option>
      <option value="Caliance"></option>
      <option value="Catelys"></option>
      <option value="Cobrena"></option>
      <option value="Guyot"></option>
      <option value="Masson"></option>
      <option value="Protac"></option>
      <option value="Stora Enso"></option>
      <option value="Timab"></option>
      <option value="Traxys"></option>
      <option value="Wood2Wood"></option>
    </datalist>
  </body>
</html>
